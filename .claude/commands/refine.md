---
description: "Literature Noteの内容を推敲し、タグを整理する"
allowed-tools: Read, Edit, mcp__zk-mcp__get_tags
argument-hint: [Note]
---

## コマンドの使い方

```
/refine [Note]
```

**例**:
```
/refine LiteratureNotes/lit-202512310945-5731.md
/refine @LiteratureNotes/lit-202512310945-5731.md
```

このコマンドは、ユーザーが記載した内容を推敲し、適切なタグを追加します。

## 情報記録原則

**重要原則**:
- ユーザーが記載した内容の意味は変更しない
- 解釈や考察を追加しない
- 文章表現の改善のみを行う

## 1. 引数の解析

`$ARGUMENTS`からLiterature Noteのパスを抽出します。

引数が提供されていない場合は、ユーザーに確認します。

## 2. ノート内容の確認

`Read`ツールでLiterature Noteを読み込み、以下を確認：
- 現在のタグ
- 内容・要約セクションの記載内容
- 文章の構造と表現

## 3. 推敲計画の提示と確認

推敲とタグ更新の具体的な計画を提示し、y/nで確認を取ります：

### 推敲内容
- 誤字脱字の修正
- 口語的表現の文語化（例：「めちゃくちゃ高い」→「非常に高コスト」）
- 長文の分割と構造化
- 見出しの追加による内容の整理
- 冗長な表現の簡潔化
- 文章の論理的な流れの改善

### タグ更新
- 既存タグ: [現在のタグリスト]
- 追加すべきタグ: [内容に基づいた適切なタグ]
- 更新後: [更新後のタグリスト]

## 4. 推敲とタグ更新の実行

確認が取れたら以下を実行：

1. `mcp__zk-mcp__get_tags`で既存タグを取得（新規タグ作成時の参考）
2. `Edit`ツールで内容・要約セクションを推敲
3. `Edit`ツールでタグを更新

## 5. タグ選択ガイドライン

### 基本タグ
- `ai`, `voice-agents` など、ノートの主要テーマ

### 技術・サービスタグ
- `llm`, `stt`, `tts`（技術要素）
- `openai`, `gemini`, `azure`, `deepgram`, `elevenlabs`（サービス/プロバイダー）
- `vapi`, `livekit`（プラットフォーム）

### 概念タグ
- `cost-benefit-analysis`, `use-cases`, `platforms`など、内容に応じた概念

### 命名規則
- kebab-case（ハイフン区切り小文字）
- 一般的な略語を優先（`llm`, `stt`, `tts`）
- サービス名は公式表記に従う

## 6. 完了報告

推敲とタグ更新の内容をユーザーに報告：
- 推敲した箇所の説明
- 追加・更新したタグのリスト
