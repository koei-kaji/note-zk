---
description: "Fleeting Note を作成する"
allowed-tools: mcp__zk-mcp__*, Bash, Read, Edit, TodoWrite
argument-hint: [タイトル] [思考内容] または [--from-github リポジトリ名]
---

## 情報記録原則

**絶対禁止**:
- ユーザー未発言内容の補完・推測の追加
- 解釈・考察・感想の勝手な追加
- 私の意見をユーザーの考えとして記載
- ユーザーが述べていない詳細や背景の追加

**許可される行為**:
- ユーザーの発言内容の構造化・整理
- 6段階プロトコルに基づく対話による明確化
- 私の意見を明確に区別した上での提示と議論
- 合意を得た内容のみの記載

## 入力ソースの選択

引数に`--from-github`が含まれる場合：
→ @.claude/commands/flt-sources/github.md の手順に従う

それ以外の場合：
→ @.claude/commands/flt-sources/direct.md の手順に従う

---

## メインプロセス

入力ソースから思考内容が確認できたら、以下のプロセスを実行します。

## 1. 6段階対話プロトコルによる思考の明確化

以下の6段階プロセスでユーザーの思考を明確化します：

### 1.1 理解段階
ユーザーの発言内容（またはissue本文）を正確に把握し、私の理解を確認します。

**確認例**:
「このように理解しました：[要約]。この理解で合っていますか？」

### 1.2 整理段階
私の理解を構造化して明確に提示し、認識の相違がないか確認します。

**提示例**:
- 主要なポイント: [箇条書き]
- 関連する概念: [リスト]
- 文脈や背景: [説明]

### 1.3 質問段階
不明確・曖昧な点について質問し、内容を段階的に明確化します。

**質問例**:
- 「[ポイントX]について、もう少し詳しく教えていただけますか？」
- 「[概念Y]との関連はありますか？」

### 1.4 意見形成
私自身の視点・考えを構築し、ユーザーの考えとは区別して整理します。

### 1.5 意見共有
私の考えをユーザーに明示的に提示し、建設的な議論を促進します。

**提示例**:
「私の視点からは、[私の意見]と考えます。この点についてどう思われますか？」

### 1.6 すり合わせ
認識の一致を確認した後、合意した内容のみをFleetingNoteに記載することを確認します。

**重要**: 各段階で必ずユーザーの確認を取り、次のステップに進む前に合意を形成する。

## 2. 作業計画の提示と確認

Fleeting Note作成の具体的な計画を提示し、y/nで確認を取ります：

**計画内容**:
- **ノートタイトル**: [合意した内容に基づくタイトル]
- **記載内容**: [ユーザーの思考のみ、合意した内容]
- **使用するタグ**: [既存タグから選択 + 新規タグ（最大3つ）]
- **ファイル配置場所**: FleetingNotesディレクトリ

## 3. Fleeting Note作成・編集

確認が取れたら以下を実行：

### 3.1 既存タグの取得
```
mcp__zk-mcp__get_tags
```

### 3.2 ノート作成
```
mcp__zk-mcp__create_note
  title: [ファイル名に使用するタイトル]
  path: FleetingNotes
```

### 3.3 ファイル内容の確認
```
Read [作成されたファイルパス]
```

### 3.4 内容の更新
```
Edit [ファイルパス]
  - body: ユーザーの思考を整理（事実のみ記載、合意した内容）
  - tags: 既存タグ優先、新規作成は3つまで
  - title: 内容に適したタイトルに調整（必要時）
  - draft: false
```

## 4. 完了報告

作成されたFleeting Noteの内容をユーザーに報告：

**報告内容**:
- ノートパス: [ファイルパス]
- タイトル: [最終タイトル]
- タグ: [使用したタグ一覧]
- 主要な内容: [簡潔な要約]

**後続作業の提案**:
- このFleetingNoteから発展させてPermanent Noteを作成しますか？
- 関連する既存ノートとのリンク構築を検討しますか？

---

## GitHub Issue ソース使用時の追加処理

`--from-github`オプション使用時は、メインプロセス完了後に以下を実行：

### issue完了処理
@.claude/commands/flt-sources/github.md の「4. issue完了処理」に従う
